define([],function(){function a(a,c,d,e){c in a._degree||(a._vertices.push(c),a._vertex[c]=c,a._degree[c]=a._indegree[c]=0),d in a._degree||(a._vertices.push(d),a._vertex[d]=d,a._degree[d]=a._indegree[d]=0),e!==b?(a.has(c,d)||(a._degree[c]++,a._indegree[d]++),a._graph[c]=a._graph[c]||{},a._graph[c][d]=e):a.has(c,d)&&(delete a._graph[c][d],a._degree[c]--,a._indegree[d]--)}var b=!1,c=function(a){if(this._graph={},this._degree={},this._indegree={},this._vertices=[],this._vertex={},this._size=0,a)for(var b in a){var c=a[b];if(c.constructor===Object)for(var d in c)this.set(b,d,c[d]);else if(c.constructor===Array)for(var e=0;e<c.length;e++)this.set(b,c[e])}};if(c.prototype.vertex=function(a){return a in this._vertex?this._vertex[a]:void 0},c.prototype.copy=function(){return new c(this._graph)},c.prototype.adj=function(a){var b=this._graph[a];return b?b:{}},c.prototype.get=function(a,b){return this._graph[a]?this._graph[a][b]:void 0},c.prototype.has=function(a,b){return void 0!==this.get(a,b)},c.prototype.degree=function(a){return this._degree[a]},c.prototype.indegree=function(a){return this._indegree[a]},c.prototype.size=function(){return this._size},c.prototype.order=function(){return this._vertices.length},c.prototype.each=function(a){for(var b=0;b<this._vertices.length&&a.call(this,this._vertices[b],b)!==!1;b++);},c.prototype.grep=function(a){var b=[];return this.each(function(c,d){a.call(this,c,d)&&b.push(c)}),b},c.prototype.set=function(c,d,e){return"-"==d[0]?this.dir(c,d.substr(1),e):(e=void 0===e?!0:e,e===b||this.has(c,d)||this.has(d,c)?e===b&&(this.has(c,d)||this.has(d,c))&&this._size--:this._size++,a(this,c,d,e),a(this,d,c,e),e)},c.prototype.dir=function(c,d,e){return e=void 0===e?!0:e,e===b||this.has(c,d)||this.has(d,c)?e===b&&this.has(c,d)&&!this.has(d,c)&&this._size--:this._size++,a(this,c,d,e),e},c.prototype.drop=function(a){if(!(a in this._degree))return!1;for(var b in this.adj(a))this.del(a,b);for(var c=0;c<this._vertices.length;c++)if(this._vertices[c]===a){this._vertices.splice(c,1);break}return delete this._degree[a],delete this._indegree[a],!0},c.prototype.del=function(a,c){return void 0===c?this.drop(a):this.set(a,c,b)},c.prototype.deldir=function(a,c){return this.dir(a,c,b)},"undefined"!=typeof window)window.Graph=c;else if("undefined"!=typeof require)exports.Graph=c;else if("undefined"!=typeof load)return{Graph:c}}());